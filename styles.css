:root{
  --bg:#07091a;
  --card:#0e1330cc;
  --card-border: #2b35a8;
  --accent:#7aa2ff;
  --accent-2:#a36bff;
  --ok:#19d27c;
  --danger:#ff5670;
  --muted:#9aa3b2;
  --text:#e9ecff;
  --text-dim:#b9c1e0;
  --glass: blur(10px) saturate(120%);
  --radius: 20px;
  --shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.05);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: "Outfit", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  background: radial-gradient(1200px 800px at 10% 10%, #0b1035 0%, transparent 60%),
              radial-gradient(900px 700px at 90% 20%, #1a0f3a 0%, transparent 60%),
              radial-gradient(1200px 900px at 50% 120%, #10152f 0%, transparent 60%),
              var(--bg);
  overflow-x: hidden;
}
/* Estrellas */
.stars, .stars:before, .stars:after{
  position: fixed; inset:0; content:""; pointer-events:none;
  background:
    radial-gradient(2px 2px at 20% 30%, #fff8 50%, transparent 52%) repeat,
    radial-gradient(1px 1px at 80% 40%, #fff5 50%, transparent 52%) repeat,
    radial-gradient(1.5px 1.5px at 40% 80%, #fff6 50%, transparent 52%) repeat;
  background-size: 600px 600px, 800px 800px, 1000px 1000px;
  animation: drift 120s linear infinite;
  filter: drop-shadow(0 0 6px #a9bbff80);
}
.stars:before{animation-duration: 160s; opacity:.7}
.stars:after{animation-duration: 200s; opacity:.5}
@keyframes drift{
  from{transform: translate3d(0,0,0)}
  to{transform: translate3d(-300px, -200px, 0)}
}

header{
  position:relative; z-index:1; text-align:center; padding:48px 16px 8px;
}
.title{
  font-weight:800; letter-spacing:0.5px; font-size: clamp(28px, 4vw, 42px);
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: 0 0 30px #7aa2ff33;
}
.subtitle{ color: var(--text-dim); margin-top:8px; }

.grid{
  position:relative; z-index:1;
  display:grid; gap:24px; padding:32px 16px 64px; max-width:1200px; margin: 0 auto;
  grid-template-columns: repeat(auto-fit, minmax(310px, 1fr));
}

.card{
  position:relative; border-radius: var(--radius); background: var(--card);
  backdrop-filter: var(--glass); -webkit-backdrop-filter: var(--glass);
  box-shadow: var(--shadow);
  border:1px solid rgba(122,162,255,.18);
  overflow:hidden;
}
.card:before{
  content:""; position:absolute; inset:-1px;
  border-radius: inherit;
  background: linear-gradient(160deg, #7aa2ff40, #a36bff20 40%, transparent 60%);
  pointer-events:none; mask: linear-gradient(#000, #000) content-box, linear-gradient(#000, #000);
  -webkit-mask-composite: xor; mask-composite: exclude;
  padding:1px;
}
.card-header{
  padding:20px 22px 10px;
  display:flex; align-items:center; gap:12px;
}
.badge{
  font-size:12px; color:#0b1120; background: linear-gradient(90deg, var(--accent), var(--accent-2));
  padding:6px 10px; border-radius:999px; font-weight:700; letter-spacing:.3px;
  box-shadow: 0 6px 18px #7aa2ff44;
}
.card-title{ font-size:20px; font-weight:700; margin:0; }
.card-desc{ color: var(--text-dim); font-size:14px; padding:0 22px 8px; }

.card-body{ padding: 8px 22px 22px; display:flex; flex-direction:column; gap:14px;}
label{font-size:13px; color: var(--muted); display:block; margin-bottom:6px}
.field{
  display:flex; gap:10px; align-items:center; background: #0d132b; border:1px solid #1e2759;
  padding:10px 12px; border-radius: 14px;
}
input[type="file"], input[type="password"], input[type="text"]{
  flex:1; border:none; outline:none; background:transparent; color: var(--text);
  font-size:14px;
}
input::file-selector-button{
  background:linear-gradient(90deg, #1f2a61, #2a1f61);
  color: #e3e7ff; border: none; padding:8px 12px; border-radius:10px; cursor:pointer;
}
.hint{font-size:12px; color: var(--muted); margin-top:-6px}

.actions{display:flex; align-items:center; gap:12px; margin-top:6px}
button{
  appearance:none; border:none; cursor:pointer; font-weight:700; letter-spacing:.3px;
  color:#0b1120; background: linear-gradient(90deg, var(--accent), var(--accent-2));
  padding:12px 16px; border-radius: 14px; box-shadow: 0 8px 24px #7aa2ff55;
  transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
button:hover{ transform: translateY(-1px); filter: brightness(1.05);}
button:disabled{ opacity:.65; cursor:not-allowed; transform:none}

.progress{
  flex:1; display:flex; align-items:center; gap:10px;
}
progress{
  width:100%; height:10px; border: none; border-radius:16px; background:#0a0f24; overflow:hidden;
}
progress::-webkit-progress-bar{ background:#0a0f24 }
progress::-webkit-progress-value{ background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width .2s ease }
progress::-moz-progress-bar{ background: linear-gradient(90deg, var(--accent), var(--accent-2)) }

.status{ font-size:12px; color: var(--text-dim)}
.divider{ height:1px; background: linear-gradient(90deg, transparent, #4051a680, transparent); margin: 6px 0 8px}
.footer-hint{ color: var(--muted); text-align:center; font-size:12px; padding: 0 16px 16px}

.chip{
  font-size:11px; color:#cfe1ff; background:#18204a; border:1px solid #2a3aa5; padding:6px 8px; border-radius:999px;
}

@media (min-width: 1100px){
  .card-body{min-height: 260px}
}

/* --- Barra visual de progreso (todas las cards) --- */
#card-encrypt .progress,
#card-decrypt .progress,
#card-massive .progress {
  position: relative;
  gap: 10px;
  flex-direction: column;
  align-items: stretch;
}

/* Ocultamos la barra nativa solo en estas cards (seguimos usando el <progress> para accesibilidad) */
#card-encrypt progress,
#card-decrypt progress,
#card-massive progress {
  display: none;
}

.visual-progress {
  position: relative;
  width: 100%;
  height: 12px;
  border-radius: 999px;
  background: #0a0f24;
  border: 1px solid #1e2759;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(122,162,255,.06);
}

.visual-progress .fill {
  position: absolute;
  inset: 0 auto 0 0;
  width: 0%;
  background: linear-gradient(90deg, var(--accent), var(--accent-2));
  box-shadow: 0 0 18px #7aa2ff55;
  transition: width .18s ease;
}

/* Modo indeterminado si no hay Content-Length */
.visual-progress.indeterminate .fill {
  width: 40%;
  background-image:
    linear-gradient(90deg, rgba(255,255,255,.18) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,.18) 100%),
    linear-gradient(90deg, var(--accent), var(--accent-2));
  background-size: 200% 100%, 100% 100%;
  animation: indet-slide 1.2s linear infinite;
}

@keyframes indet-slide {
  from { transform: translateX(-100%); }
  to   { transform: translateX(200%); }
}
